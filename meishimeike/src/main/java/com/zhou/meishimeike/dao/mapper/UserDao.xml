<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhou.meishimeike.dao.UserDao">


		<select id="getAllUserCount" resultType="int">
			select count(u_id) from user
		</select>
		
		<select id="hasAdmin" resultType="boolean">
			select count(name) from sys_admin where name=#{param1} and pass=#{param2}
		</select>
		
		<select id="hasUser" resultType="boolean">
			select count(u_id) from user where (u_phone=#{param1} or u_email=#{param1}) and u_pass=#{param2}
		</select>
		
		<select id="getUserByPhone" resultType="com.zhou.meishimeike.entity.User" >
			select 
				u_id as id,
				u_name as name,
				u_pass as pass,
				u_email as email,
				u_phone as phone
			from
				user
			where 
				u_phone=#{param1}
		</select>
		
		<insert id="addUser">
			insert into user values(default,#{name},#{pass},#{email},#{phone})
		</insert>
		
		
		<select id="hasUserByPhone" resultType="boolean">
			select count(u_id) from user where u_phone=#{param1}
		</select>
		
</mapper>